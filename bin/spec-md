#!/usr/bin/env node

var yargs = require('yargs');
var path = require('path');
var specmd = require('../');

var argv = yargs
  .usage('Usage: $0 [filepath]')
  .require(1, 'Must provide filepath.')
  .string(1)
  .argv;

var absPath = path.resolve(process.cwd(), argv._[0]);

specmd.html(absPath).then(function (html) {
  process.stdout.write(html);
}).catch(function (error) {
  process.stderr.write(
    error.line ? error.message : (error.stack || error) +
    '\n'
  );
  process.exit(1);
});
